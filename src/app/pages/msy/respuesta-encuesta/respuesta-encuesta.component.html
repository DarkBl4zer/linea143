<div class="card">
    <h5 class="card-header">Detalles de la solicitud</h5>
    <div class="card-body">
        <div class="row">
            <div class="col-md-12">
                <div class="ribbon-wrapper card">
                    <div class="ribbon ribbon-bookmark ribbon-default">Informacion referente al servicio solicitado</div>
                    <ul class="list-group list-group-flush" *ngFor="let item of detalleMesaDeAyuda">
                        <li class="list-group-item">N° Mesa de ayuda {{item.numMesaAyuda}}</li>
                        <li class="list-group-item">Asistencia: {{item.asistencia}}</li>
                        <li class="list-group-item">Servicio: {{item.servicio}}</li>
                        <li class="list-group-item">Detalle de la solicitud: {{item.detalleSolicitud}}</li>
                        <li class="list-group-item">Funcionario Solicitante: {{item.solicitante}}</li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <div class="ribbon-wrapper card">
                    <div class="ribbon ribbon-bookmark ribbon-default">Historico referente al servicio solicitado</div>
                    <table class="table table-striped table-sm dataTable no-footer" style="width: 100%;" data-page-size="10">
                        <thead>
                            <tr>
                                <th>FUNCIONARIO REMITE</th>
                                <th>FECHA RESPUESTA</th>
                                <th>TEXTO RESPUESTA</th>
                                <th>FUNCIONARIO ACTUAL</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of historicoMesaDeAyuda">
                                <td style="font-size: 12px;">
                                    <small>{{item.funEntrego}} <br> {{item.depEntrego}}</small>
                                </td>
                                <td style="font-size: 12px;">
                                    <small>{{ item.fechaRespuesta}}</small>
                                </td>
                                <td style="font-size: 12px;">
                                    <small>{{ item.textoRespuesta}}</small>
                                </td>
                                <td style="font-size: 12px;">
                                    <small>{{item.funTiene}} <br> {{item.depTiene}}</small>
                                </td>
                            </tr>
                        </tbody>
                    </table>

                </div>
            </div>
        </div>
        <form class="form-horizontal form-material" [formGroup]="formaEn" (keydown.enter)="$event.preventDefault()" autocomplete="off" (ngSubmit)="guardar()">
            <div class="row">
                <div class="col-md-12">
                    <div class="form-floating">
                        <select class="form-select" id="pU" formControlName="pU" [class.is-invalid]="nombreInvalido('pU')">
                            <option value="" selected>Seleccione una opcion</option>
                            <option value="1">Si</option>
                            <option value="2">No</option>
                        </select>
                        <label for="pU">1) ¿El personal fue claro, amable y respetuoso? *</label>
                    </div>
                </div>
            </div>
            <br>
            <div class="row">
                <div class="col-md-12">
                    <div class="form-floating">
                        <select class="form-select" id="pD" formControlName="pD" [class.is-invalid]="nombreInvalido('pD')">
                            <option value="" selected>Seleccione una opcion</option>
                            <option value="1">Excelente</option>
                            <option value="2">Bueno</option>
                            <option value="3">Regular</option>
                            <option value="4">Malo</option>
                        </select>
                        <label for="pD">2) ¿El tiempo de respuesta al requerimiento fue? *</label>
                    </div>
                </div>
            </div>
            <br>
            <div class="row">
                <div class="col-md-12">
                    <div class="form-floating">
                        <select class="form-select" id="pT" formControlName="pT" [class.is-invalid]="nombreInvalido('pT')">
                            <option value="" selected>Seleccione una opcion</option>
                            <option value="1">Excelente</option>
                            <option value="2">Bueno</option>
                            <option value="3">Regular</option>
                            <option value="4">Malo</option>
                        </select>
                        <label for="pT">3) ¿Indique el nivel de satisfacción general, con el servicio recibido?</label>
                    </div>
                </div>
            </div>
            <div *ngIf="idDepMsy==331 && asistencia==2 && servicio==2">
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-floating">
                            <select class="form-select" id="pC" formControlName="pC">
                                <option value="" selected>Seleccione una opcion</option>
                                <option value="1">Si</option>
                                <option value="2">No</option>
                            </select>
                            <label for="pC">4) ¿El conductor respetó lo límites de velocidad permitidos?</label>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-floating">
                            <select class="form-select" id="pCi" formControlName="pCi">
                                <option value="" selected>Seleccione una opcion</option>
                                <option value="1">Si</option>
                                <option value="2">No</option>
                            </select>
                            <label for="pCi">5) ¿El conductor respetó las señales de tránsito?</label>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-floating">
                            <select class="form-select" id="pS" formControlName="pS">
                                <option value="" selected>Seleccione una opcion</option>
                                <option value="1">Si</option>
                                <option value="2">No</option>
                            </select>
                            <label for="pS">6) ¿Todos los usuarios hicieron uso del cinturón de seguridad?</label>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <div class="form-floating">
                            <select class="form-select" id="pSi" formControlName="pSi">
                                <option value="" selected>Seleccione una opcion</option>
                                <option value="1">Si</option>
                                <option value="2">No</option>
                            </select>
                            <label for="pSi">7) ¿Durante el recorrido el conductor realizó llamadas o chateó mientras conducía?</label>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="form-floating">
                        <textarea class="form-control form-control-sm" oninput="this.value = this.value.toUpperCase()" id="observacion" placeholder="observacion" formControlName="observacion" [class.is-invalid]="nombreInvalido('observacion')"></textarea>
                        <label for="observacion">Recuerde que sus observaciones son de gran valor para mejorar el servicio, por favor diligéncialas en este campo *</label>
                    </div>
                </div>
            </div>

            <br>
            <div class="row">
                <div class="col-md-3"></div>
                <div class="col-md-6">
                    <button class="btn btn-primary btn-block btn-rounded" type="submit">Registrar Respuesta</button>
                </div>
                <div class="col-md-3"></div>
            </div>
        </form>
    </div>
</div>